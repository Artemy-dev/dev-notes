# Как запустить свой проект на Ubuntu сервере

## 1. Обновляем пакеты

Обновление списка пакетов обеспечивает актуальность данных о доступных версиях. Используем флаг `-y`, чтобы система не спрашивала подтверждение на каждом шаге.

```bash
sudo apt update -y
sudo apt upgrade -y
```

## Переустанавливаем Python

Переустановка Python и менеджера пакетов pip для работы с Python-библиотеками. Используем `pip3`, чтобы устанавливать библиотеки именно для Python 3.

```bash
sudo apt --reinstall install python3 -y
sudo apt --reinstall install python3-pip -y
```

## Устанавливаем Git

Git - это система контроля версий, которая позволяет копировать и управлять проектами. Даже если Git уже установлен, команда безопасна и просто проверит или обновит его.

```bash
sudo apt install git -y
```

## Устанавливаем Node.js

Node.js - это JavaScript-окружение, которое требуется для корректной работы npm и pm2.

```bash
sudo apt install nodejs -y
```

## Устанавливаем npm

Менеджер пакетов. Он помогает устанавливать, обновлять и управлять библиотеками и инструментами.

```bash
sudo apt install npm -y
```

## Устанавливаем pm2

Менеджер процессов. Он используется для управления и мониторинга запускаемых приложений. Можно использовать для Node.js и Python скриптов.

```bash
npm install pm2 -g
```

## Перекидываем файлы на сервер

### Через Git (терминал Ubuntu)

Команда `git clone` копирует репозиторий с вашим проектом на сервер. Если репозиторий приватный, понадобится токен или SSH-ключ.

```bash
git clone https://github.com/username/repositoryname.git
cd repositoryname
```

### Альтернатива: через Termius

Если вы хотите скопировать проект на сервер без командной строки:

1. Скачайте и установите [Termius](https://termius.com/) на свой компьютер.
2. Создайте новое SSH-соединение к вашему серверу:
   - Введите IP адрес сервера
   - Имя пользователя (например, `ubuntu`)
   - Пароль или SSH-ключ
3. Подключитесь к серверу через Termius.
4. Внутри Termius откройте **вкладку "SFTP" или "Файлы"**.
5. Перетащите локальные файлы проекта в нужную директорию на сервере.

*Примечание: Termius позволяет работать с файлами на сервере как с обычной папкой на вашем компьютере, без команд `git clone`.*

## Устанавливаем python-библиотеки из requirements.txt

Список всех библиотек. Установка их гарантирует, что проект будет корректно работать в нужной среде.

```bash
pip3 install -r requirements.txt
```

## Запускаем проект

pm2 запускает ваш проект (например, main.py) и обеспечивает его стабильную работу. Название процесса можно выбрать любое (project-name).

```bash
pm2 start main.py --name "project-name"
```

## Настраиваем автозапуск pm2

Автоматический запуск процессов, управляемых pm2, при перезапуске системы.

```bash
pm2 startup
pm2 save
```

## Проверка процессов

Список всех процессов, запущенных через pm2, их статусы и логи.

```bash
pm2 list
```

Пример вывода:

```txt
┌──────────────┬────┬──────┬──────┬─────────┬──────────┐
│ Name         │ id │ mode │ pid  │ status  │ restarts │
├──────────────┼────┼──────┼──────┼─────────┼──────────┤
│ project-name │ 0  │ fork │ 1234 │ online  │ 0        │
└──────────────┴────┴──────┴──────┴─────────┴──────────┘
```

## Если процесс не запускается, проверь ошибки

```bash
pm2 logs project-name
```
